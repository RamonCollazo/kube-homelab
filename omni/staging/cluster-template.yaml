kind: Cluster
name: homelab-staging
talos:
  version: v1.12.1
kubernetes:
  version: 1.35.0
features:
  diskEncryption: true
patches:
  - name: cni-proxy
    file: ./patches/cni-proxy.yaml
---
kind: ControlPlane
machineClass:
  name: homelab-staging-controlplane
  size: 3
---
kind: Workers
name: workers
machineClass:
  name: homelab-staging-workers
  size: unlimited
systemExtensions:
  - siderolabs/nonfree-kmod-nvidia-lts
  - siderolabs/nvidia-container-toolkit-lts
patches:
  - name: nvidia
    file: patches/gpu-worker-patch.yaml
